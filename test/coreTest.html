<!DOCTYPE html>
    <head>
        <script src="../build/EEE.js"></script>
        <style>
            body{ padding : 0; }
        </style>
    </head>
    <body>
        <script>
            EEE.Init();

            var testObj = new EEE.Obj();
            var testObj2 = new EEE.Obj();
            testObj.drawable = EEE.ASSETS.meshes["cube"];
            testObj2.drawable = EEE.ASSETS.meshes["cube"];
            EEE.scene.AddObj(testObj);
            EEE.scene.AddObj(testObj2);
            
            testObj.AddModule({
                firstFrame : function(){
                    console.log("firstFrame");
                },
                update : function(){
                    this.owner.rotation.SetEuler(0,EEE.time / 2,0);
                    this.owner.matrixNeedsUpdate = true;
                }
            });
            
            testObj2.AddModule({
                firstFrame : function(){
                    this.owner.position.x = 2;
                    this.owner.matrixNeedsUpdate = true;
                },
                update : function(){
                    this.owner.rotation.SetEuler(-EEE.time / 2,0,0);
                    this.owner.matrixNeedsUpdate = true;
                }
            });

            testObj2.SetParent(testObj);

            EEE.scene.activeCamera.position.z = -7;
            EEE.scene.activeCamera.UpdateMatrix();
            /*
            EEE.scene.activeCamera.AddModule({
                dir : new EEE.Vec3(),
                horizontalRot : 0,
                verticalRot : 0,
                update : function(){
                    // rotation
                    this.horizontalRot += EEE.input.mouse.delta.x*EEE.deltaTime*0.1;
                    this.owner.rotation.SetEuler( 0, this.horizontalRot, 0 );
                    // position
                    this.dir.Set( 0,0,0 );
                    if(EEE.input.GetBindingState("up")){
                        this.dir.z += 1;
                    }
                    if(EEE.input.GetBindingState("down")){
                        this.dir.z -= 1;
                    }
                    if(EEE.input.GetBindingState("left")){
                        this.dir.x += 1;
                    }
                    if(EEE.input.GetBindingState("right")){
                        this.dir.x -= 1;
                    }
                    if(EEE.input.GetBindingState("jump")){
                        this.dir.y += 1;
                    }
                    if(EEE.input.GetBindingState("crouch")){
                        this.dir.y -= 1;
                    }
                    this.dir.Normalize();
                    this.dir.MultiplyScalar(EEE.deltaTime);
                    this.owner.position.Add(this.dir);
                    this.owner.matrixNeedsUpdate = true;
                }
            });
            */
        </script>
    </body>
</html>